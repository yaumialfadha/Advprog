# Tutorial 5: Model-View-Controller

CSCM602023 Advanced Programming @ Faculty of Computer Science Universitas
Indonesia, Term 2 2017/2018

* * *

Your main task in this tutorial is to create a simple application with Spring Boot. 
You also have to relate it with Model-View-Controller Pattern that explained in Head
First Design Pattern Book **Chapter 12**. The problem set used in this tutorial is 
based on example for creating and learning Spring Boot application. More advanced tutorial
can be found at [Github](https://github.com/spring-guides)

The evaluation of your work will be based on the implementation of requested feature,
, test implementation, code coverage, code style issues, and your understanding on 
each patterns. The implementation itself is a simple feature that generally used for 
basic tutorial in web programming. Code style issues can be checked from test report 
generated by Gradle. Your understanding will be verified by teaching team during 
in-person demo session and/or merge request review.

**Caution: Unless noted otherwise, you are not allowed to modify the _existing_
unit tests without permission from the teaching team!**

## Mandatory Tasks Description

There are several classes that contain example implementation of Spring Boot
Application. Basically the Application is a simple greeting example. When you access the URL 
`/greeting` with parameter `name` (e.g. `/greeting?name=Budi`) it will return some sentence
with `Budi` name in it. If you access the root URL, it will return Homepage that defined in 
`resources/static/index.html`.

To understand this template, there are some classes that you need to observe :

1. Application
2. GreetingController

You also have to understand how the HTML page is rendered, you need to know how 
HTML templating in Spring Boot work, in this case we're going use 
[Thymeleaf](http://www.thymeleaf.org/doc/tutorials/2.1/thymeleafspring.html). 

**Attention: this tutorial would be much easier if you use Intellij IDEA Jetbrains, 
because these steps already checked and worked with using this particular IDE**

To use Spring Boot template that already prepared in `tutorial-5` folder, you're
going to have to do these steps:

1. Download and Install Gradle (Find out how to do that [here](http://gradle.org/install/))
1. Click *File -> Project Structure -> Click `+` icon -> Import Module*
1. Find `build.gradle` file inside folder `tutorial-5`
1. Set your Gradle home by pointing it to your Gradle installation folder
1. Click ok and wait while your Dependencies is being imported
1. If above steps is success, then you're going be able to run the Spring Boot application
from inside the Intellij IDEA (by clicking icon Run with configuration named `Application`).
The alternative way to find out that your dependencies is already imported, is by running the test task.
Go to your console and run `gradle :tutorial-5:check`
1. If you don't see any error, then check it on your Web Browser by accessing `http://localhost:8000`.
You're going be able to see the Homepage.

In some cases, the above steps will raise some error (especially if you work in Fasilkom UI Lab Environment).
This is mostly because of the proxy setting, or the installed gradle version is different.
Therefore, you need to use **Gradle Wrapper** as an alternative of installing a Gradle in the computer.
Please refer to this [link](https://docs.gradle.org/current/userguide/gradle_wrapper.html) about Gradle Wrapper usage.
About running Gradle Wrapper with proxy setting, please use this 
[reference](https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy).
To run Spring Boot using Gradle CLI manually, please refer to this [link](https://spring.io/guides/gs/spring-boot/).

**Remember: Environment setting might be a little tricky in this lab, and you might be to put
a lot of effort just to set the environment. Be patient, because environment setting is also
part of the learning process as a programmer.**

The following sections describe the tasks required in order to complete
each pattern implementation.

After you run the prepared template, now you must try to implement some simple Web Application.
You must create a simple Webpage that provide your **Curriculum Vitae**. Here is what you
need to provide in your Webpage:

1. Basic Information (Name, Birthdate & Birthplace, Address)
2. Education History
3. 1 Paragraph that describe you
4. When the URL of your CV is accessed with parameter `visitor` (e.g.
: Danny), the title will be `Danny, I hope you interested to hire me`. If there is 
no parameter, then the title will be `This is my CV`.


The available template is really basic HTML template, and we hope that as most of you
already taken Web Programming Course, your webpage won't be as "Plain" as the current state.
You also need to implement Test Cases to complete this tutorial, because Code Coverage
is also being counted as one of mandatory task. Here is what you can do to check your 
Code Coverage:

1. Run your test (`gradle :tutorial-5:check`). After that there are a generated folder
named `build` (in Intellij IDEA it's colored by orange). Inside folder `build` there are
so many folder, but what you need to observe is `reports/tests/test/index.html`. That file
will show you your Code Coverage.
1. You can use Code Coverage Tool inside Intellij IDEA. To do this, you only need to
right click folder `test` and Click `Run 'All Tests' with Coverage`. (**Warning: there is a chance that
Code Coverage shown in this step is different with running manually in command line. Use the 1st step
as the main Code Coverage in case there are a differences.**)

**Reminder: You don't need to delete the available implementation. Just create a new Class
to implement new feature**

## Additional Tasks Description

Similar to the previous tutorial, you need to ensure that your code does not
contain any style/linter issues. You can run the linter (Checkstyle) by
executing `checkstyleMain` Gradle task.

> Tips: You can also find Checkstyle plugin for your IDE of choice and let
> the plugin handle the checking.

There are three additional tasks in this tutorial. The tasks are described in
following subsections.

### Maintain High Code Coverage

At it's current state, this tutorial already have 100% Code Coverage. Seeing how 
simple the feature is, you also have to maintain this High Code Coverage. So the Code
Coverage mustn't reach below 100% after the implementation of your feature.

### Quality of Unit Test

You can't create an arbitary Unit Test just to make sure you maintain a High Code
Coverage. You have to make sure that the created Unit Test will test the system
behaviour. You can read this [article](http://www.softwaretestingclass.com/positive-and-negative-testing-in-software-testing/)
to create a good quality of Unit Test.

## Running & Testing the Program

It is recommended to use IDE that can import Gradle-based project to complete this
tutorial. If you are using IDE, **please import `build.gradle` located in the
parent directory (root) of this tutorial.** The tutorials are structured as
Gradle multi-projects and the content of `build.gradle` in each tutorial
directories is defined in the main (root) `build.gradle` file.

You can run the unit tests by executing `test` Gradle task from your IDE. If you
prefer terminal/shell:

```bash
gradle :tutorial-5:test
```

> Explanation: Run `test` task available in `tutorial-5` Gradle (sub)project

If you want to run code linter (Checkstyle) to check find code style issues in
your work, execute `checkstyleMain` Gradle task from your IDE or via
terminal/shell:

```bash
gradle :tutorial-5:checkstyleMain
```

> Explanation: Run `checkstyleMain` tasks available in `tutorial-5` Gradle
> (sub)project

> Tips: You can run both linter and unit tests sequentially by executing `check`
> Gradle task. If you prefer terminal/shell: `gradle :tutorial-5:check`

## Mandatory Tasks Checklist

- [ ] Make at least 1 commit that contains your progress in completing
the tutorial
- [ ] Push your commits to online Git repository on your GitLab project
- [ ] Implement the Requested Feature of Creating a `CV Page` as requested
- [ ] Create several JUnit 4-based unit test classes (and the test cases,
      obviously)
- [ ] Pass all the created test

## Additional Tasks Checklist

- [ ] Make sure there are no code style issues, i.e. Checkstyle did not
produce any warning when you execute `check` or `checkstyleMain` Gradle
tasks
- [ ] Make sure that you have 100% Code Coverage
- [ ] Unit Tests that are created must have a good quality (Min 1 Positive and Negative
Test Case per Function that you wanna test)
- [ ] Explain in several paragraphs Why Spring Boot can be used as an example 
for Model-View-Controller Pattern
    - Explain what is Model-View-Controller Pattern in 1 sentence
    - Where is Model, View, and Controller in Spring Boot Framework
    - Write your answer in [My Notes](#my-notes) section in this document

## More Challange

This tutorial must be really simple for some people, that's why we want to challange
those who really eager to learn. Hre's some stuff you can try:

1. Database Usage using Spring Boot (You can start by combining your work by
implementing a `To-Do List feature` in your work). You can see the example with using MySQL
Database [Here](https://github.com/spring-guides/gs-accessing-data-mysql)
2. Applying some Static file (Javascript, or CSS)

## My Notes

> Feel free to use this section to write your own notes related to your attempt
> in doing the tutorial. You can also use this section to write text for
> answering question(s) mentioned in the task checklists.
